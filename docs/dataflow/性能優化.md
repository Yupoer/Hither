# 性能優化

## Firestore 優化

1. **複合查詢**：使用多個過濾器的高效查詢
2. **實時監聽器**：最小化監聽器範圍
3. **數據去重**：自動移除重複項
4. **批量操作**：高效的成員更新

## 記憶體管理

1. **監聽器清理**：正確移除 Firestore 監聽器
2. **弱引用**：防止閉包中的保留循環
3. **延遲加載**：按需加載群組
4. **狀態清理**：離開群組時清理數據
