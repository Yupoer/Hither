# 錯誤處理與數據驗證

## 數據驗證流水線

1. **輸入驗證**：UI 層級的用戶輸入驗證
2. **Firebase 驗證**：伺服器端驗證規則
3. **客戶端修復**：`validateAndRepairGroupData()` 修復損壞數據
4. **錯誤恢復**：重複成員的自動清理

## 常見錯誤場景

1. **缺少成員字段**：創建空數組，記錄警告
2. **無效成員格式**：將單個成員轉換為數組
3. **重複成員**：基於 userId 的自動去重
4. **過期邀請碼**：加入前驗證時間戳
5. **網絡故障**：指數退避的重試邏輯
