# 狀態管理

## 環境對象

服務作為環境對象注入到整個視圖階層中：

```swift
@EnvironmentObject private var authService: AuthenticationService
@EnvironmentObject private var groupService: GroupService
@EnvironmentObject private var locationService: LocationService
```

## @MainActor 併發

所有服務都標記為 `@MainActor` 以確保 UI 更新在主線程上進行：

```swift
@MainActor
class GroupService: ObservableObject {
    @Published var currentGroup: HitherGroup?
    // ...
}
```
